!function(){angular.module("blog",["ngRoute"]).constant("blogConfig",{staticUrl:"/static/",blogListUrl:"/api/articles",blogDetailUrl:"/api/article/",blogRandomListUrl:"/api/random/articles"})}(),function(){function t(t,e){var r={};return r.getBlogList=function(r){var o=e.blogListUrl;return o=r?o+"?q="+r:o,t.get(o)},r.getBlogDetail=function(r){var o=e.blogDetailUrl+r;return t.get(o)},r.getRandomArticles=function(){var r=e.blogRandomListUrl;return t.get(r)},r}angular.module("blog").factory("blogServices",t),t.$inject=["$http","blogConfig"]}(),function(){function t(t){var e=this;e.showSearchBox=!1,e.query="",e.search=function(){return e.showSearchBox=!1,t.path("/").search("q",e.query)},e.toggleSearch=function(){e.query="",e.showSearchBox=!e.showSearchBox}}function e(t,e){var r=this;r.search=e.q,r.search?(r.articles=t.results,r.preview=!1):(r.articles=t.results.slice(1),r.preview=t.results[0])}function r(t){this.article=t}function o(t){function e(){var t=o*r.currentPage;r.dispArticles=l.slice(t-o,t)}var r=this,o=4,n=0,l=null;r.dispArticles=[],r.currentPage=1,r.$onInit=function(){t.getRandomArticles().then(function(t){l=t.data,n=Math.ceil(l.length/o),e()})},r.onNext=function(){r.currentPage>=n||(r.currentPage+=1,e())},r.onPrev=function(){r.currentPage<=1||(r.currentPage-=1,e())}}angular.module("blog").controller("BlogController",t).controller("BlogListController",e).controller("BlogDetailController",r).controller("ReadComponentController",o),t.$inject=["$location"],e.$inject=["data","$routeParams"],r.$inject=["data"],o.$inject=["blogServices"]}(),function(){angular.module("blog").component("readNext",{templateUrl:["blogConfig",function(t){return t.staticUrl+"js/ng/blog.template.readnext.html"}],controller:"ReadComponentController"}).component("navBar",{templateUrl:["blogConfig",function(t){return t.staticUrl+"js/ng/blog.template.navbar.html"}],bindings:{toggleSearch:"&"}})}(),function(){function t(t,e,r){t.when("/",{templateUrl:r.staticUrl+"js/ng/blog.template.list.html",controller:"BlogListController",controllerAs:"$ctrl",resolve:{data:["blogServices","$route",function(t,e){return t.getBlogList(e.current.params.q).then(function(t){return t.data})}]}}).when("/article/:id",{templateUrl:r.staticUrl+"js/ng/blog.template.detail.html",controller:"BlogDetailController",controllerAs:"$ctrl",resolve:{data:["blogServices","$route",function(t,e){return t.getBlogDetail(e.current.params.id).then(function(t){return t.data})}]}}).otherwise({redirectTo:"/"})}angular.module("blog").config(t),t.$inject=["$routeProvider","$locationProvider","blogConfig"]}();